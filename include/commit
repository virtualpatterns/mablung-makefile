
ifndef current-folder

add-item = $(patsubst $\
						%,$\
						%.add,$\
						$(dirty-item))

.PHONY: pre-commit commit

# $(info --------------------)
# $(info add-item = >$(add-item)<)
# $(info --------------------)

ifneq ($(dirty-item),)
pre-commit:: ;
commit:: pre-commit $(add-item)
	@git commit --message="$(or $(message),$(msg),$(m),updates)"
%.add:
	@git add $(patsubst %.add,%,$@)
else
pre-commit:: ;
commit:: pre-commit
	$(info Git working directory clean.)
	@npx shx true
endif

endif
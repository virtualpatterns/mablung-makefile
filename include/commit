
ifndef current-folder

add-item = $(patsubst $\
						%,$\
						%.add,$\
						$(dirty-item))

.PHONY: commit

# $(info --------------------)
# $(info add-item = >$(add-item)<)
# $(info --------------------)

ifneq ($(dirty-item),)
commit:: $(add-item)
	@git commit --message=$(or $(message),$(msg),$(m),updates)
%.add:
	@git add $(patsubst %.add,%,$@)
else
commit::
	$(info Git working directory clean.)
	@npx shx echo -n
endif

endif